\documentclass{beamer}
\usetheme{Luebeck}
\usecolortheme{whale}
\usepackage[]{algorithm2e}
\usepackage{amsmath}

\begin{document}
\title[Scalable EM Alignment]
{Scalable Alignment of Electron Microscope Image Sections}
\author[Zou, Ni] {Roger Zou \and Julia Ni}
\date{\today}

\frame{\titlepage}

\begin{frame}
\frametitle{Table of Contents}
\begin{itemize}
\item Overview
\item Pairwise Alignment
\item Global Stack Alignment
\item Other Attempted Methods
\item References
\item Acknowledgements 
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Overview}
\begin{itemize}
\item \textbf{Goals}
\begin{itemize}
\item Scalable alignment of 3D Electron Microscope sections of mouse brain.
\item Integration with CAJAL-3D API for easy image retrieval and upload from database.
\end{itemize}
\item \textbf{Difficulties} 
\begin{itemize}
\item Approach must be scalable.
\item $1024 \times 1024 \times 2000$ in the smallest data set $\approx 2B$ voxels.
\item Most datasets occupy TB of space; infeasible to align all at once.
\end{itemize}
\item \textbf{General Method}
\begin{enumerate}
\item Compute the transformations for alignment between adjacent pairs of images using cross-correlation.
\item Globally align an entire image cube using pairwise transformation parameters.
\end{enumerate}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Pairwise Alignment}
\textbf{Objective:} Compute the transformations necessary to align adjacent pairs of images. \\
Outline of procedure:
\begin{enumerate}
\item Compute pairwise transformation parameters.
\item Improve rotation parameter through error minimization.
\item Refine transformations using image data outside pairwise images to minimize error.
\end{enumerate}
\end{frame}

\begin{frame}
\frametitle{Pairwise Alignment}
\framesubtitle{Compute Pairwise Transformation Parameters}
\textbf{Objective:} Determine the transformations necessary to align image pair. \\
\\
For each pair of images:
\begin{enumerate}
\item Apply median filtering, histogram equalization, and hamming window. 
\item Take Discrete Fourier Transform, apply high-pass filter, and resample in log-polar coordinates. 
\item Find best $\rho$, $\theta$ by correlation and max picking. 
\item Rotate image, then correlate to find the best translation parameters.
\item Use Support Vector Machine (SVM) to identify peak in cross-correlation of image pair. 
\item Save the transformation parameters.
\end{enumerate}
\end{frame}

\begin{frame}
\frametitle{Pairwise Alignment}
\framesubtitle{Peak Identification}
\textbf{Objective:} Determine peaks in the cross-correlation of two images that correspond to translations for correct alignment. \\
\begin{enumerate}
\item Train SVM classifier with selected peak features from already aligned images (ground truth).
\item Partition cross-correlation of pairwise images into 9 equal parts.
\item Find the coordinate of maximum intensity point in each partition.
\item Sort the coordinates with respect to maximum intensity.
\item Classify each of the 9 potential peaks in descending order until a peak is found.
\item If none of the peaks are classified as peaks, then no peaks detected.
\end{enumerate}
Other Attempted Methods:
\begin{itemize}
\item Choose maximum values. 
\item Correlate pairwise cross-correlation with normal distribution. 
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Pairwise Alignment}
\framesubtitle{Improve Rotation Parameter} 
\textbf{Objective:} Evaluate the correct alignment rotation with a finer level of discretization. 
\begin{enumerate}
\item Given initial estimate of rotation angle $\theta$ necessary to align images...
\item Iterate for each $k$ over a small window $\theta_{new} = [\theta-k\epsilon, \theta+k\epsilon]$, in increments of $\epsilon$.
\item Compute alignment error with $\theta_{new}$ as rotation angle.
\item Update rotation parameter with angle that minimizes Mean Squared Error (MSE) between image pair.
\end{enumerate}
\end{frame}

\begin{frame}
\frametitle{Pairwise Alignment}
\framesubtitle{Refine Transformation Parameters}
\textbf{Objective:} For alignment of image pair $I_2, I_3$, use data from images $I_1$ and $I_4$. \\
\begin{enumerate}
\item Calculate pairwise transformation parameters between $I_1,I_3$ and $I_2,I_4$.
\item Obtain 2 more estimations of transformation parameters between $I_2,I_3$ using new information.
\item Determine the Mean Squared Error between image pair using all estimates of transformations.
\item Pick transformation that minimizes error.
\end{enumerate}
\end{frame}

\begin{frame}
\frametitle{Global Stack Alignment}
\textbf{Objective:} Given transformation parameters between all adjacent image pairs, compute transformation to each image in global coordinate frame.
\begin{enumerate}
\item Set global transformation parameters of previous image to that of current image. 
\item Find new rotation angle by adding previous rotation parameter to pairwise rotation angle. 
\item Find new translation parameters using previous rotation angle and pairwise translations.
\item Positive translations: shift current image. Negative translations: shift all previous images.
\item Iterate through image cube to globally align stack. 
\end{enumerate}
\end{frame}

\begin{frame}
\frametitle{Other Attempted Methods}
\begin{itemize}
\item RANSAC to detect linear folds
\item SURF feature matching to align images
\item Superpixels and Earth Mover's Distance as a better error metric for image alignment
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{References}
\begin{thebibliography}{9}
\bibitem{reddy96}
	B. Srinivasa Reddy and B. N. Chatterji,
	\emph{An FFT-Based Technique for Translation, Rotation, and Scale-Invariant Image Registration}.
	IIEEE Transactions on Image Processing Vol. 5, No. 8, 1996
\bibitem{rubner00}
	Yossi Rubner, Carlo Tomasi, Leonidas J. Guibas,
	\emph{The Earth Mover's Distance as a Metric for Image Retrieval}.
	International Journal of Computer Vision 40(2), 99-121, 2000
\bibitem{wang13}
	Peng Wang, Gang Zeng, Rui Gan, Jingdong Wang, Hongbin Zha,
	\emph{Structure-Sensitive Superpixels via Geodesic Distance}.
	International Journal of Computer Vision, 103:1-21, 2013
\end{thebibliography} 
\end{frame}

\begin{frame}
\frametitle{Acknowledgements}
Many thanks to:
\begin{itemize}
\item Chris Tralie
\item Dr. Joshua Vogelstein
\item Dr. Guillermo Sapiro
\item Will Gray 
\item Dr. Paul Bendich 
\item Dr. Robert Calderbank
\item Dr. John Harer
\item Kunal Lillaney
\item Kathy Peterson 
\item Ashleigh Thomas 
\item Duke Math RTG Group 
\end{itemize}
\end{frame}

\end{document}
